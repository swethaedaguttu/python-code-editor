{"ast":null,"code":"import _objectSpread from\"C:/code editor/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _taggedTemplateLiteral from\"C:/code editor/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject0,_templateObject1,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15,_templateObject16,_templateObject17,_templateObject18,_templateObject19,_templateObject20,_templateObject21,_templateObject22,_templateObject23,_templateObject24,_templateObject25,_templateObject26,_templateObject27;import React,{useEffect,useRef,useState,useLayoutEffect,useCallback}from'react';import Editor from'@monaco-editor/react';import{Terminal}from'xterm';import{FitAddon}from'xterm-addon-fit';import'xterm/css/xterm.css';import styled,{ThemeProvider}from'styled-components';import{FaFolder,FaFile,FaFolderOpen,FaSave,FaUndo,FaRedo,FaCog,FaSun,FaMoon,FaPlay,FaPlus,FaChevronRight,FaChevronDown,FaTrash,FaEdit,FaChevronRight as FaChevronRightSmall,FaTimes}from'react-icons/fa';// Theme configuration\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const themes={dark:{background:'#1e1e1e',foreground:'#ffffff',editorBg:'#1e1e1e',headerBg:'#252526',border:'#333333',tabBg:'#2d2d2d',tabActive:'#1e1e1e',tabInactive:'transparent',tabHover:'#3c3c3c',buttonBg:'#4CAF50',buttonHover:'#45a049',iconColor:'#888888',iconHover:'#ffffff',inputBg:'#333333',inputBorder:'#555555',terminalBg:'#1e1e1e',terminalForeground:'#ffffff',terminalCursor:'#ffffff',terminalSelection:'#264f78',terminalBlack:'#000000',terminalRed:'#cd3131',terminalGreen:'#0dbc79',terminalYellow:'#e5e510',terminalBlue:'#2472c8',terminalMagenta:'#bc3fbc',terminalCyan:'#11a8cd',terminalWhite:'#e5e5e5',terminalBrightBlack:'#666666',terminalBrightRed:'#f14c4c',terminalBrightGreen:'#23d18b',terminalBrightYellow:'#f5f543',terminalBrightBlue:'#3b8eea',terminalBrightMagenta:'#d670d6',terminalBrightCyan:'#29b8db',terminalBrightWhite:'#ffffff'},light:{background:'#ffffff',foreground:'#000000',editorBg:'#ffffff',headerBg:'#f3f3f3',border:'#e0e0e0',tabBg:'#f8f8f8',tabActive:'#ffffff',tabInactive:'transparent',tabHover:'#e8e8e8',buttonBg:'#4CAF50',buttonHover:'#45a049',iconColor:'#666666',iconHover:'#000000',inputBg:'#ffffff',inputBorder:'#cccccc',terminalBg:'#ffffff',terminalForeground:'#000000',terminalCursor:'#000000',terminalSelection:'#add6ff',terminalBlack:'#000000',terminalRed:'#cd3131',terminalGreen:'#008000',terminalYellow:'#795e26',terminalBlue:'#0000ff',terminalMagenta:'#af00db',terminalCyan:'#098658',terminalWhite:'#e5e5e5',terminalBrightBlack:'#666666',terminalBrightRed:'#cd3131',terminalBrightGreen:'#008000',terminalBrightYellow:'#795e26',terminalBrightBlue:'#0000ff',terminalBrightMagenta:'#af00db',terminalBrightCyan:'#098658',terminalBrightWhite:'#ffffff'}};const AppContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  height: 100vh;\\n  background-color: \",\";\\n  color: \",\";\\n  overflow: hidden;\\n\"])),props=>props.theme.background,props=>props.theme.foreground);const Header=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding: 5px 10px;\\n  background-color: \",\";\\n  border-bottom: 1px solid \",\";\\n\"])),props=>props.theme.headerBg,props=>props.theme.border);const LeftControls=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n\"])));const RightControls=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n\"])));const EditorWrapper=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  flex: 1;\\n  display: flex;\\n  flex-direction: column;\\n  min-height: 0;\\n  position: relative;\\n\"])));const EditorContainer=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  flex: 1;\\n  display: flex;\\n  flex-direction: column;\\n  min-height: 0;\\n  position: relative;\\n  overflow: hidden;\\n\"])));const TerminalContainer=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  height: 40vh;\\n  background-color: \",\";\\n  padding: 10px;\\n  flex-shrink: 0;\\n  overflow: hidden;\\n  border-top: 1px solid \",\";\\n  position: relative;\\n  display: flex;\\n  flex-direction: column;\\n\"])),props=>props.theme.terminalBg,props=>props.theme.border);const Button=styled.button(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  background-color: \",\";\\n  color: white;\\n  padding: 5px 15px;\\n  border: none;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  margin: 0 5px;\\n  font-size: 14px;\\n  flex-shrink: 0;\\n  display: flex;\\n  align-items: center;\\n\\n  &:hover {\\n    background-color: \",\";\\n  }\\n\"])),props=>props.theme.buttonBg,props=>props.theme.buttonHover);const ToolbarIcon=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  padding: 5px;\\n  cursor: pointer;\\n  color: \",\";\\n  margin: 0 5px;\\n\\n  &:hover {\\n    color: \",\";\\n  }\\n\"])),props=>props.theme.iconColor,props=>props.theme.iconHover);const Sidebar=styled.div(_templateObject0||(_templateObject0=_taggedTemplateLiteral([\"\\n  width: 250px;\\n  background-color: \",\";\\n  border-right: 1px solid \",\";\\n  display: flex;\\n  flex-direction: column;\\n\"])),props=>props.theme.headerBg,props=>props.theme.border);const FileTree=styled.div(_templateObject1||(_templateObject1=_taggedTemplateLiteral([\"\\n  flex: 1;\\n  overflow-y: auto;\\n  padding: 10px;\\n\"])));const FileLocation=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  padding: 5px 10px;\\n  background-color: \",\";\\n  border-bottom: 1px solid \",\";\\n  color: \",\";\\n  font-size: 12px;\\n\"])),props=>props.theme.headerBg,props=>props.theme.border,props=>props.theme.foreground);const LocationItem=styled.div(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  color: \",\";\\n  \\n  &:hover {\\n    color: \",\";\\n  }\\n\"])),props=>props.theme.iconColor,props=>props.theme.iconHover);const LocationSeparator=styled.div(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  margin: 0 5px;\\n  color: \",\";\\n\"])),props=>props.theme.iconColor);const FileTreeItem=styled.div(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  padding: 5px;\\n  cursor: pointer;\\n  color: \",\";\\n  padding-left: \",\"px;\\n  \\n  &:hover {\\n    background-color: \",\";\\n  }\\n\"])),props=>props.theme.foreground,props=>props.depth*20,props=>props.theme.tabHover);const FileTreeContent=styled.div(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  flex: 1;\\n\"])));const FileTreeIcon=styled.div(_templateObject15||(_templateObject15=_taggedTemplateLiteral([\"\\n  margin-right: 5px;\\n  display: flex;\\n  align-items: center;\\n  width: 16px;\\n\"])));const FileTreeName=styled.span(_templateObject16||(_templateObject16=_taggedTemplateLiteral([\"\\n  flex: 1;\\n\"])));const FileTreeActions=styled.div(_templateObject17||(_templateObject17=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  opacity: 0;\\n  transition: opacity 0.2s;\\n  \\n  \",\":hover & {\\n    opacity: 1;\\n  }\\n\"])),FileTreeItem);const FileTreeAction=styled.div(_templateObject18||(_templateObject18=_taggedTemplateLiteral([\"\\n  padding: 2px;\\n  margin-left: 4px;\\n  cursor: pointer;\\n  color: \",\";\\n  \\n  &:hover {\\n    color: \",\";\\n  }\\n\"])),props=>props.theme.iconColor,props=>props.theme.iconHover);const SettingsOverlay=styled.div(_templateObject19||(_templateObject19=_taggedTemplateLiteral([\"\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background-color: rgba(0, 0, 0, 0.5);\\n  display: \",\";\\n  z-index: 999;\\n\"])),props=>props.isOpen?'block':'none');const SettingsPanel=styled.div(_templateObject20||(_templateObject20=_taggedTemplateLiteral([\"\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  width: 300px;\\n  height: 100%;\\n  background-color: \",\";\\n  border-left: 1px solid \",\";\\n  padding: 20px;\\n  transform: translateX(\",\");\\n  transition: transform 0.3s ease;\\n  z-index: 1000;\\n  box-shadow: -2px 0 5px rgba(0, 0, 0, 0.2);\\n\"])),props=>props.theme.headerBg,props=>props.theme.border,props=>props.isOpen?'0':'100%');const SettingsHeader=styled.div(_templateObject21||(_templateObject21=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-bottom: 20px;\\n  padding-bottom: 10px;\\n  border-bottom: 1px solid \",\";\\n\"])),props=>props.theme.border);const SettingsTitle=styled.h2(_templateObject22||(_templateObject22=_taggedTemplateLiteral([\"\\n  margin: 0;\\n  color: \",\";\\n\"])),props=>props.theme.foreground);const CloseButton=styled.button(_templateObject23||(_templateObject23=_taggedTemplateLiteral([\"\\n  background: none;\\n  border: none;\\n  color: \",\";\\n  cursor: pointer;\\n  padding: 5px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  \\n  &:hover {\\n    color: \",\";\\n  }\\n\"])),props=>props.theme.iconColor,props=>props.theme.iconHover);const SettingsItem=styled.div(_templateObject24||(_templateObject24=_taggedTemplateLiteral([\"\\n  margin-bottom: 15px;\\n\"])));const SettingsLabel=styled.label(_templateObject25||(_templateObject25=_taggedTemplateLiteral([\"\\n  display: block;\\n  margin-bottom: 5px;\\n  color: \",\";\\n\"])),props=>props.theme.foreground);const SettingsInput=styled.input(_templateObject26||(_templateObject26=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  padding: 5px;\\n  background-color: \",\";\\n  border: 1px solid \",\";\\n  color: \",\";\\n  border-radius: 4px;\\n\"])),props=>props.theme.inputBg,props=>props.theme.inputBorder,props=>props.theme.foreground);const MainContent=styled.div(_templateObject27||(_templateObject27=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex: 1;\\n  overflow: hidden;\\n\"])));const defaultCode=\"# Simple Calculator Program\\n# This program adds two numbers entered by the user\\n\\ndef sum(a, b):\\n    return (a + b)\\n\\n# Get input from user\\na = int(input('Enter 1st number: '))\\nb = int(input('Enter 2nd number: '))\\n\\n# Calculate and display the result\\nprint(f'Sum of {a} and {b} is {sum(a, b)}')\\n\";function App(){const[code,setCode]=useState(defaultCode);const[editorMounted,setEditorMounted]=useState(false);const[commandLineArgs]=useState('');const[theme,setTheme]=useState('dark');const[isSettingsOpen,setIsSettingsOpen]=useState(false);const[currentFile,setCurrentFile]=useState({id:'main',name:'main.py',type:'file',content:defaultCode});const[undoStack,setUndoStack]=useState([]);const[redoStack,setRedoStack]=useState([]);const terminalRef=useRef(null);const wsRef=useRef(null);const terminalInstanceRef=useRef(null);const editorRef=useRef(null);const monacoRef=useRef(null);const resizeObserverRef=useRef(null);const inputBufferRef=useRef('');const isProgramRunning=useRef(false);const editorContainerRef=useRef(null);const fitAddonRef=useRef(null);const[fileTree,setFileTree]=useState([{id:'root',name:'Project',type:'folder',isOpen:true,children:[{id:'main',name:'main.py',type:'file',content:defaultCode}]}]);const[currentPath,setCurrentPath]=useState(['Project','main.py']);const[editingItem,setEditingItem]=useState(null);const[editName,setEditName]=useState('');const[error,setError]=useState(null);const[programState,setProgramState]=useState('idle');const handleEditorDidMount=(editor,monaco)=>{editorRef.current=editor;monacoRef.current=monaco;setEditorMounted(true);// Set initial layout\nconst container=editor.getContainerDomNode();if(container){const{width,height}=container.getBoundingClientRect();editor.layout({width,height});}// Add resize observer\nconst resizeObserver=new ResizeObserver(entries=>{if(editorRef.current){try{for(const entry of entries){const{width,height}=entry.contentRect;editorRef.current.layout({width,height});}}catch(error){console.error('Error in resize observer:',error);}}});resizeObserver.observe(container);resizeObserverRef.current=resizeObserver;// Add undo/redo handlers\neditor.addCommand(monaco.KeyMod.CtrlCmd|monaco.KeyCode.KeyZ,()=>{handleUndo();});editor.addCommand(monaco.KeyMod.CtrlCmd|monaco.KeyMod.Shift|monaco.KeyCode.KeyZ,()=>{handleRedo();});};// Cleanup function for editor\nconst cleanupEditor=useCallback(()=>{if(resizeObserverRef.current){resizeObserverRef.current.disconnect();resizeObserverRef.current=null;}if(editorRef.current){try{editorRef.current.dispose();}catch(error){console.error('Error disposing editor:',error);}editorRef.current=null;}if(monacoRef.current){monacoRef.current=null;}},[]);const handleUndo=()=>{if(undoStack.length>0){const previousState=undoStack[undoStack.length-1];setRedoStack([...redoStack,code]);setCode(previousState);setUndoStack(undoStack.slice(0,-1));}};const handleRedo=()=>{if(redoStack.length>0){const nextState=redoStack[redoStack.length-1];setUndoStack([...undoStack,code]);setCode(nextState);setRedoStack(redoStack.slice(0,-1));}};const getItemPath=itemId=>{const findPath=function(items,targetId){let currentPath=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];for(const item of items){if(item.id===targetId){return[...currentPath,item.name];}if(item.children){const path=findPath(item.children,targetId,[...currentPath,item.name]);if(path)return path;}}return null;};return findPath(fileTree,itemId);};const handleFileClick=file=>{if(file.type==='folder'){setFileTree(prevTree=>{const updateFolder=items=>{return items.map(item=>{if(item.id===file.id){return _objectSpread(_objectSpread({},item),{},{isOpen:!item.isOpen});}if(item.children){return _objectSpread(_objectSpread({},item),{},{children:updateFolder(item.children)});}return item;});};return updateFolder(prevTree);});}else{setCurrentFile(file);setCode(file.content);setCurrentPath(getItemPath(file.id));}};const handleNewFile=parentId=>{const newFile={id:Date.now().toString(),name:'untitled.py',type:'file',content:defaultCode};setFileTree(prevTree=>{const addFile=items=>{return items.map(item=>{if(item.id===parentId){return _objectSpread(_objectSpread({},item),{},{children:[...(item.children||[]),newFile]});}if(item.children){return _objectSpread(_objectSpread({},item),{},{children:addFile(item.children)});}return item;});};return addFile(prevTree);});};const handleNewFolder=parentId=>{const newFolder={id:Date.now().toString(),name:'New Folder',type:'folder',isOpen:true,children:[]};setFileTree(prevTree=>{const addFolder=items=>{return items.map(item=>{if(item.id===parentId){return _objectSpread(_objectSpread({},item),{},{children:[...(item.children||[]),newFolder]});}if(item.children){return _objectSpread(_objectSpread({},item),{},{children:addFolder(item.children)});}return item;});};return addFolder(prevTree);});};const downloadFile=(content,filename)=>{const blob=new Blob([content],{type:'text/plain'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=filename;document.body.appendChild(a);a.click();document.body.removeChild(a);URL.revokeObjectURL(url);};const handleSave=useCallback(()=>{if(currentFile){// Update file content in the tree\nsetFileTree(prevTree=>{const updateFile=items=>{return items.map(item=>{if(item.id===currentFile.id){return _objectSpread(_objectSpread({},item),{},{content:code});}if(item.children){return _objectSpread(_objectSpread({},item),{},{children:updateFile(item.children)});}return item;});};return updateFile(prevTree);});// Update currentFile with new content\nsetCurrentFile(prev=>_objectSpread(_objectSpread({},prev),{},{content:code}));// Download the file\ndownloadFile(code,currentFile.name);// Show save confirmation in terminal\nif(terminalInstanceRef.current){terminalInstanceRef.current.write('\\r\\n\\x1b[32mFile saved and downloaded successfully!\\x1b[0m\\r\\n');}}else{// Create new file if no current file\nconst newFile={id:Date.now().toString(),name:'untitled.py',type:'file',content:code};setFileTree(prevTree=>{const addFile=items=>{return items.map(item=>{if(item.id==='root'){return _objectSpread(_objectSpread({},item),{},{children:[...(item.children||[]),newFile]});}if(item.children){return _objectSpread(_objectSpread({},item),{},{children:addFile(item.children)});}return item;});};return addFile(prevTree);});setCurrentFile(newFile);setCurrentPath(['Project',newFile.name]);// Download the new file\ndownloadFile(code,newFile.name);// Show save confirmation in terminal\nif(terminalInstanceRef.current){terminalInstanceRef.current.write('\\r\\n\\x1b[32mNew file created, saved, and downloaded!\\x1b[0m\\r\\n');}}},[code,currentFile]);// Add keyboard shortcut for save (Ctrl+S)\nuseEffect(()=>{const handleKeyDown=e=>{if((e.ctrlKey||e.metaKey)&&e.key==='s'){e.preventDefault();handleSave();}};window.addEventListener('keydown',handleKeyDown);return()=>{window.removeEventListener('keydown',handleKeyDown);};},[handleSave]);const handleThemeToggle=()=>{setTheme(theme==='dark'?'light':'dark');};const handleSettingsToggle=()=>{setIsSettingsOpen(!isSettingsOpen);};const handleCloseSettings=()=>{setIsSettingsOpen(false);};const handleOverlayClick=e=>{if(e.target===e.currentTarget){handleCloseSettings();}};const handleRename=(itemId,newName)=>{// Prevent renaming main.py\nif(itemId==='main'){if(terminalInstanceRef.current){terminalInstanceRef.current.write('\\r\\n\\x1b[31mCannot rename main.py - it is a required file\\x1b[0m\\r\\n');}return;}setFileTree(prevTree=>{const renameItem=items=>{return items.map(item=>{if(item.id===itemId){return _objectSpread(_objectSpread({},item),{},{name:newName});}if(item.children){return _objectSpread(_objectSpread({},item),{},{children:renameItem(item.children)});}return item;});};return renameItem(prevTree);});setEditingItem(null);if(currentFile&&currentFile.id===itemId){setCurrentPath(getItemPath(itemId));}};const handleDelete=itemId=>{// Prevent deletion of main.py\nif(itemId==='main'){if(terminalInstanceRef.current){terminalInstanceRef.current.write('\\r\\n\\x1b[31mCannot delete main.py - it is a required file\\x1b[0m\\r\\n');}return;}setFileTree(prevTree=>{const deleteItem=items=>{return items.filter(item=>{if(item.id===itemId){return false;}if(item.children){item.children=deleteItem(item.children);}return true;});};return deleteItem(prevTree);});if(currentFile&&currentFile.id===itemId){setCurrentFile(null);setCode(defaultCode);setCurrentPath(['Project']);}};const startEditing=(item,e)=>{e.stopPropagation();setEditingItem(item.id);setEditName(item.name);};const handleEditSubmit=e=>{e.preventDefault();if(editName.trim()){handleRename(editingItem,editName.trim());}};const handleRun=async()=>{if(!wsRef.current||wsRef.current.readyState!==WebSocket.OPEN){setError(\"Not connected to server\");setProgramState('error');if(terminalInstanceRef.current){terminalInstanceRef.current.write('\\r\\n\\x1b[31mError: Not connected to server\\x1b[0m\\r\\n');}return;}try{setError(null);setProgramState('running');// Clear terminal before running\nif(terminalInstanceRef.current){terminalInstanceRef.current.clear();terminalInstanceRef.current.write('\\r\\n');}const message={type:\"execute\",code:code,args:commandLineArgs};wsRef.current.send(JSON.stringify(message));}catch(err){setError(\"Error running code: \".concat(err.message));setProgramState('error');if(terminalInstanceRef.current){terminalInstanceRef.current.write(\"\\r\\n\\x1B[31mError: \".concat(err.message,\"\\x1B[0m\\r\\n\"));}}};// Add error display in the UI\nuseEffect(()=>{if(error){console.error('Error:',error);}},[error]);// Add program state display in the UI\nuseEffect(()=>{if(programState==='running'){console.log('Program is running...');}else if(programState==='error'){console.error('Program encountered an error');}},[programState]);useLayoutEffect(()=>{if(!terminalRef.current)return;try{// Initialize terminal\nconst terminal=new Terminal({cursorBlink:true,fontSize:14,fontFamily:'Consolas, \"Courier New\", monospace',theme:{background:theme==='dark'?'#1e1e1e':'#ffffff',foreground:theme==='dark'?'#ffffff':'#000000',cursor:theme==='dark'?'#ffffff':'#000000',selection:theme==='dark'?'#264f78':'#add6ff',black:theme==='dark'?'#000000':'#000000',red:theme==='dark'?'#cd3131':'#cd3131',green:theme==='dark'?'#0dbc79':'#008000',yellow:theme==='dark'?'#e5e510':'#795e26',blue:theme==='dark'?'#2472c8':'#0000ff',magenta:theme==='dark'?'#bc3fbc':'#af00db',cyan:theme==='dark'?'#11a8cd':'#098658',white:theme==='dark'?'#e5e5e5':'#e5e5e5',brightBlack:theme==='dark'?'#666666':'#666666',brightRed:theme==='dark'?'#f14c4c':'#cd3131',brightGreen:theme==='dark'?'#23d18b':'#008000',brightYellow:theme==='dark'?'#f5f543':'#795e26',brightBlue:theme==='dark'?'#3b8eea':'#0000ff',brightMagenta:theme==='dark'?'#d670d6':'#af00db',brightCyan:theme==='dark'?'#29b8db':'#098658',brightWhite:theme==='dark'?'#ffffff':'#ffffff'},scrollback:10000,convertEol:true,disableStdin:false,allowTransparency:true,rendererType:'canvas',windowsMode:true,fastScrollModifier:'alt',fastScrollSensitivity:5,scrollSensitivity:1,cursorStyle:'block',rightClickSelectsWord:true});// Initialize and configure fit addon\nconst fitAddon=new FitAddon();terminal.loadAddon(fitAddon);terminal.open(terminalRef.current);// Store refs\nfitAddonRef.current=fitAddon;terminalInstanceRef.current=terminal;// Initial fit\nrequestAnimationFrame(()=>{fitAddon.fit();terminal.focus();});// Add terminal input handler\nterminal.onData(handleTerminalInput);let reconnectAttempts=0;const maxReconnectAttempts=5;const reconnectDelay=2000;// 2 seconds\nlet reconnectTimeout=null;// Initialize WebSocket\nconst connectWebSocket=()=>{if(wsRef.current&&wsRef.current.readyState===WebSocket.OPEN){return;}// Clear any existing reconnect timeout\nif(reconnectTimeout){clearTimeout(reconnectTimeout);reconnectTimeout=null;}// Add connection ID to maintain session\nconst connectionId=localStorage.getItem('connectionId')||Date.now().toString();localStorage.setItem('connectionId',connectionId);// Close existing connection if any\nif(wsRef.current){wsRef.current.close();}try{wsRef.current=new WebSocket(\"ws://\".concat(window.location.host,\"/ws/terminal?connectionId=\").concat(connectionId));wsRef.current.onopen=()=>{console.log('WebSocket connected');isProgramRunning.current=false;inputBufferRef.current='';reconnectAttempts=0;// Reset reconnect attempts on successful connection\n};wsRef.current.onmessage=event=>{try{const data=event.data;if(!terminalInstanceRef.current){console.error('Terminal instance not found');return;}// Only show actual program output, not connection messages\nif(!data.includes('Connected to server')&&!data.includes('Connection error')&&!data.includes('Connection closed')&&!data.includes('Attempting to reconnect')){terminalInstanceRef.current.write(data);terminalInstanceRef.current.scrollToBottom();}if(data.includes('** Process exited')){isProgramRunning.current=false;inputBufferRef.current='';}else if(data.includes('Enter')){isProgramRunning.current=true;if(terminalRef.current){terminalRef.current.focus();}if(terminalInstanceRef.current){terminalInstanceRef.current.focus();}}}catch(error){console.error('Error in WebSocket message handler:',error);}};wsRef.current.onerror=error=>{console.error('WebSocket error:',error);isProgramRunning.current=false;inputBufferRef.current='';};wsRef.current.onclose=event=>{console.log('WebSocket connection closed:',event.code,event.reason);isProgramRunning.current=false;inputBufferRef.current='';// Only attempt to reconnect if we haven't exceeded max attempts\nif(reconnectAttempts<maxReconnectAttempts){reconnectAttempts++;reconnectTimeout=setTimeout(connectWebSocket,reconnectDelay);}};}catch(error){console.error('Error creating WebSocket:',error);}};// Initial connection\nconnectWebSocket();// Add connection status check\nconst connectionCheckInterval=setInterval(()=>{if(!wsRef.current||wsRef.current.readyState!==WebSocket.OPEN){if(reconnectAttempts<maxReconnectAttempts){connectWebSocket();}}},5000);return()=>{clearInterval(connectionCheckInterval);if(reconnectTimeout){clearTimeout(reconnectTimeout);}if(wsRef.current){wsRef.current.close(1000,'Component unmount');}if(terminal){terminal.dispose();}};}catch(error){console.error('Error initializing terminal:',error);}},[theme]);// Handle window resize\nuseEffect(()=>{const handleResize=()=>{if(editorRef.current&&editorContainerRef.current){try{const{width,height}=editorContainerRef.current.getBoundingClientRect();editorRef.current.layout({width,height});}catch(error){console.error('Error in resize handler:',error);}}if(fitAddonRef.current){setTimeout(()=>{try{fitAddonRef.current.fit();}catch(error){console.error('Error fitting terminal:',error);}},100);}};window.addEventListener('resize',handleResize);handleResize();// Initial layout\nreturn()=>{window.removeEventListener('resize',handleResize);};},[editorMounted]);// Cleanup on unmount\nuseEffect(()=>{return()=>{cleanupEditor();};},[cleanupEditor]);const renderFileTree=function(items){let depth=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return items.map(item=>/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(FileTreeItem,{depth:depth,onClick:()=>handleFileClick(item),style:{backgroundColor:currentFile&&item.id===currentFile.id?theme==='dark'?'rgba(255, 255, 255, 0.1)':'rgba(0, 0, 0, 0.1)':'transparent'},children:[/*#__PURE__*/_jsxs(FileTreeContent,{children:[/*#__PURE__*/_jsx(FileTreeIcon,{children:item.type==='folder'?item.isOpen?/*#__PURE__*/_jsx(FaChevronDown,{}):/*#__PURE__*/_jsx(FaChevronRight,{}):null}),/*#__PURE__*/_jsx(FileTreeIcon,{children:item.type==='folder'?item.isOpen?/*#__PURE__*/_jsx(FaFolderOpen,{}):/*#__PURE__*/_jsx(FaFolder,{}):/*#__PURE__*/_jsx(FaFile,{})}),editingItem===item.id?/*#__PURE__*/_jsx(\"form\",{onSubmit:handleEditSubmit,onClick:e=>e.stopPropagation(),children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editName,onChange:e=>setEditName(e.target.value),onBlur:handleEditSubmit,autoFocus:true,style:{background:'transparent',border:'none',color:'inherit',outline:'none',width:'100%'}})}):/*#__PURE__*/_jsx(FileTreeName,{style:{color:currentFile&&item.id===currentFile.id?theme==='dark'?'#ffffff':'#000000':'inherit'},children:item.name})]}),/*#__PURE__*/_jsxs(FileTreeActions,{children:[item.type==='folder'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FileTreeAction,{onClick:e=>{e.stopPropagation();handleNewFile(item.id);},children:/*#__PURE__*/_jsx(FaPlus,{})}),/*#__PURE__*/_jsx(FileTreeAction,{onClick:e=>{e.stopPropagation();handleNewFolder(item.id);},children:/*#__PURE__*/_jsx(FaFolder,{})})]}):null,item.id!=='main'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FileTreeAction,{onClick:e=>startEditing(item,e),children:/*#__PURE__*/_jsx(FaEdit,{})}),/*#__PURE__*/_jsx(FileTreeAction,{onClick:e=>{e.stopPropagation();handleDelete(item.id);},children:/*#__PURE__*/_jsx(FaTrash,{})})]})]})]}),item.type==='folder'&&item.isOpen&&item.children&&renderFileTree(item.children,depth+1)]},item.id));};const handleTerminalInput=data=>{if(wsRef.current&&wsRef.current.readyState===WebSocket.OPEN){const message={type:\"input\",input:data};wsRef.current.send(JSON.stringify(message));}};return/*#__PURE__*/_jsx(ThemeProvider,{theme:themes[theme],children:/*#__PURE__*/_jsxs(AppContainer,{children:[/*#__PURE__*/_jsxs(Header,{children:[/*#__PURE__*/_jsxs(LeftControls,{children:[/*#__PURE__*/_jsx(ToolbarIcon,{onClick:handleSave,title:\"Save (Ctrl+S)\",children:/*#__PURE__*/_jsx(FaSave,{})}),/*#__PURE__*/_jsx(ToolbarIcon,{onClick:handleUndo,children:/*#__PURE__*/_jsx(FaUndo,{})}),/*#__PURE__*/_jsx(ToolbarIcon,{onClick:handleRedo,children:/*#__PURE__*/_jsx(FaRedo,{})}),/*#__PURE__*/_jsxs(Button,{onClick:handleRun,children:[/*#__PURE__*/_jsx(FaPlay,{style:{marginRight:'5px'}}),\"Run\"]})]}),/*#__PURE__*/_jsxs(RightControls,{children:[/*#__PURE__*/_jsx(ToolbarIcon,{onClick:handleThemeToggle,children:theme==='dark'?/*#__PURE__*/_jsx(FaSun,{}):/*#__PURE__*/_jsx(FaMoon,{})}),/*#__PURE__*/_jsx(ToolbarIcon,{onClick:handleSettingsToggle,children:/*#__PURE__*/_jsx(FaCog,{})})]})]}),/*#__PURE__*/_jsxs(MainContent,{children:[/*#__PURE__*/_jsx(Sidebar,{children:/*#__PURE__*/_jsx(FileTree,{children:renderFileTree(fileTree)})}),/*#__PURE__*/_jsxs(EditorWrapper,{children:[/*#__PURE__*/_jsx(FileLocation,{children:currentPath.map((item,index)=>/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(LocationItem,{children:item}),index<currentPath.length-1&&/*#__PURE__*/_jsx(LocationSeparator,{children:/*#__PURE__*/_jsx(FaChevronRightSmall,{size:10})})]},index))}),/*#__PURE__*/_jsx(EditorContainer,{ref:editorContainerRef,children:/*#__PURE__*/_jsx(Editor,{height:\"100%\",defaultLanguage:\"python\",value:code,onChange:newValue=>{if(newValue!==undefined){setUndoStack([...undoStack,code]);setCode(newValue);}},theme:theme==='dark'?'vs-dark':'light',onMount:handleEditorDidMount,beforeMount:cleanupEditor,options:{minimap:{enabled:false},fontSize:14,wordWrap:'on',automaticLayout:true,scrollBeyondLastLine:false,renderWhitespace:'none',lineNumbers:'on',roundedSelection:false,scrollbar:{vertical:'visible',horizontal:'visible',useShadows:false,verticalScrollbarSize:10,horizontalScrollbarSize:10}}})})]}),/*#__PURE__*/_jsx(SettingsOverlay,{isOpen:isSettingsOpen,onClick:handleOverlayClick}),/*#__PURE__*/_jsxs(SettingsPanel,{isOpen:isSettingsOpen,children:[/*#__PURE__*/_jsxs(SettingsHeader,{children:[/*#__PURE__*/_jsx(SettingsTitle,{children:\"Settings\"}),/*#__PURE__*/_jsx(CloseButton,{onClick:handleCloseSettings,title:\"Close settings\",children:/*#__PURE__*/_jsx(FaTimes,{})})]}),/*#__PURE__*/_jsxs(SettingsItem,{children:[/*#__PURE__*/_jsx(SettingsLabel,{children:\"Font Size\"}),/*#__PURE__*/_jsx(SettingsInput,{type:\"number\",min:\"8\",max:\"24\",defaultValue:\"14\",onChange:e=>{if(editorRef.current){editorRef.current.updateOptions({fontSize:parseInt(e.target.value)});}}})]}),/*#__PURE__*/_jsxs(SettingsItem,{children:[/*#__PURE__*/_jsx(SettingsLabel,{children:\"Tab Size\"}),/*#__PURE__*/_jsx(SettingsInput,{type:\"number\",min:\"2\",max:\"8\",defaultValue:\"4\",onChange:e=>{if(editorRef.current){editorRef.current.updateOptions({tabSize:parseInt(e.target.value)});}}})]})]})]}),/*#__PURE__*/_jsx(TerminalContainer,{ref:terminalRef})]})});}export default App;","map":{"version":3,"names":["React","useEffect","useRef","useState","useLayoutEffect","useCallback","Editor","Terminal","FitAddon","styled","ThemeProvider","FaFolder","FaFile","FaFolderOpen","FaSave","FaUndo","FaRedo","FaCog","FaSun","FaMoon","FaPlay","FaPlus","FaChevronRight","FaChevronDown","FaTrash","FaEdit","FaChevronRightSmall","FaTimes","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","themes","dark","background","foreground","editorBg","headerBg","border","tabBg","tabActive","tabInactive","tabHover","buttonBg","buttonHover","iconColor","iconHover","inputBg","inputBorder","terminalBg","terminalForeground","terminalCursor","terminalSelection","terminalBlack","terminalRed","terminalGreen","terminalYellow","terminalBlue","terminalMagenta","terminalCyan","terminalWhite","terminalBrightBlack","terminalBrightRed","terminalBrightGreen","terminalBrightYellow","terminalBrightBlue","terminalBrightMagenta","terminalBrightCyan","terminalBrightWhite","light","AppContainer","div","_templateObject","_taggedTemplateLiteral","props","theme","Header","_templateObject2","LeftControls","_templateObject3","RightControls","_templateObject4","EditorWrapper","_templateObject5","EditorContainer","_templateObject6","TerminalContainer","_templateObject7","Button","button","_templateObject8","ToolbarIcon","_templateObject9","Sidebar","_templateObject0","FileTree","_templateObject1","FileLocation","_templateObject10","LocationItem","_templateObject11","LocationSeparator","_templateObject12","FileTreeItem","_templateObject13","depth","FileTreeContent","_templateObject14","FileTreeIcon","_templateObject15","FileTreeName","span","_templateObject16","FileTreeActions","_templateObject17","FileTreeAction","_templateObject18","SettingsOverlay","_templateObject19","isOpen","SettingsPanel","_templateObject20","SettingsHeader","_templateObject21","SettingsTitle","h2","_templateObject22","CloseButton","_templateObject23","SettingsItem","_templateObject24","SettingsLabel","label","_templateObject25","SettingsInput","input","_templateObject26","MainContent","_templateObject27","defaultCode","App","code","setCode","editorMounted","setEditorMounted","commandLineArgs","setTheme","isSettingsOpen","setIsSettingsOpen","currentFile","setCurrentFile","id","name","type","content","undoStack","setUndoStack","redoStack","setRedoStack","terminalRef","wsRef","terminalInstanceRef","editorRef","monacoRef","resizeObserverRef","inputBufferRef","isProgramRunning","editorContainerRef","fitAddonRef","fileTree","setFileTree","children","currentPath","setCurrentPath","editingItem","setEditingItem","editName","setEditName","error","setError","programState","setProgramState","handleEditorDidMount","editor","monaco","current","container","getContainerDomNode","width","height","getBoundingClientRect","layout","resizeObserver","ResizeObserver","entries","entry","contentRect","console","observe","addCommand","KeyMod","CtrlCmd","KeyCode","KeyZ","handleUndo","Shift","handleRedo","cleanupEditor","disconnect","dispose","length","previousState","slice","nextState","getItemPath","itemId","findPath","items","targetId","arguments","undefined","item","path","handleFileClick","file","prevTree","updateFolder","map","_objectSpread","handleNewFile","parentId","newFile","Date","now","toString","addFile","handleNewFolder","newFolder","addFolder","downloadFile","filename","blob","Blob","url","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","handleSave","updateFile","prev","write","handleKeyDown","e","ctrlKey","metaKey","key","preventDefault","window","addEventListener","removeEventListener","handleThemeToggle","handleSettingsToggle","handleCloseSettings","handleOverlayClick","target","currentTarget","handleRename","newName","renameItem","handleDelete","deleteItem","filter","startEditing","stopPropagation","handleEditSubmit","trim","handleRun","readyState","WebSocket","OPEN","clear","message","args","send","JSON","stringify","err","concat","log","terminal","cursorBlink","fontSize","fontFamily","cursor","selection","black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite","scrollback","convertEol","disableStdin","allowTransparency","rendererType","windowsMode","fastScrollModifier","fastScrollSensitivity","scrollSensitivity","cursorStyle","rightClickSelectsWord","fitAddon","loadAddon","open","requestAnimationFrame","fit","focus","onData","handleTerminalInput","reconnectAttempts","maxReconnectAttempts","reconnectDelay","reconnectTimeout","connectWebSocket","clearTimeout","connectionId","localStorage","getItem","setItem","close","location","host","onopen","onmessage","event","data","includes","scrollToBottom","onerror","onclose","reason","setTimeout","connectionCheckInterval","setInterval","clearInterval","handleResize","renderFileTree","onClick","style","backgroundColor","onSubmit","value","onChange","onBlur","autoFocus","color","outline","title","marginRight","index","size","ref","defaultLanguage","newValue","onMount","beforeMount","options","minimap","enabled","wordWrap","automaticLayout","scrollBeyondLastLine","renderWhitespace","lineNumbers","roundedSelection","scrollbar","vertical","horizontal","useShadows","verticalScrollbarSize","horizontalScrollbarSize","min","max","defaultValue","updateOptions","parseInt","tabSize"],"sources":["C:/code editor/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useRef, useState, useLayoutEffect, useCallback } from 'react';\nimport Editor from '@monaco-editor/react';\nimport { Terminal } from 'xterm';\nimport { FitAddon } from 'xterm-addon-fit';\nimport 'xterm/css/xterm.css';\nimport styled, { ThemeProvider } from 'styled-components';\nimport { FaFolder, FaFile, FaFolderOpen, FaSave, FaUndo, FaRedo, FaCog, FaSun, FaMoon, FaPlay, FaPlus, FaChevronRight, FaChevronDown, FaTrash, FaEdit, FaChevronRight as FaChevronRightSmall, FaTimes } from 'react-icons/fa';\n\n// Theme configuration\nconst themes = {\n  dark: {\n    background: '#1e1e1e',\n    foreground: '#ffffff',\n    editorBg: '#1e1e1e',\n    headerBg: '#252526',\n    border: '#333333',\n    tabBg: '#2d2d2d',\n    tabActive: '#1e1e1e',\n    tabInactive: 'transparent',\n    tabHover: '#3c3c3c',\n    buttonBg: '#4CAF50',\n    buttonHover: '#45a049',\n    iconColor: '#888888',\n    iconHover: '#ffffff',\n    inputBg: '#333333',\n    inputBorder: '#555555',\n    terminalBg: '#1e1e1e',\n    terminalForeground: '#ffffff',\n    terminalCursor: '#ffffff',\n    terminalSelection: '#264f78',\n    terminalBlack: '#000000',\n    terminalRed: '#cd3131',\n    terminalGreen: '#0dbc79',\n    terminalYellow: '#e5e510',\n    terminalBlue: '#2472c8',\n    terminalMagenta: '#bc3fbc',\n    terminalCyan: '#11a8cd',\n    terminalWhite: '#e5e5e5',\n    terminalBrightBlack: '#666666',\n    terminalBrightRed: '#f14c4c',\n    terminalBrightGreen: '#23d18b',\n    terminalBrightYellow: '#f5f543',\n    terminalBrightBlue: '#3b8eea',\n    terminalBrightMagenta: '#d670d6',\n    terminalBrightCyan: '#29b8db',\n    terminalBrightWhite: '#ffffff'\n  },\n  light: {\n    background: '#ffffff',\n    foreground: '#000000',\n    editorBg: '#ffffff',\n    headerBg: '#f3f3f3',\n    border: '#e0e0e0',\n    tabBg: '#f8f8f8',\n    tabActive: '#ffffff',\n    tabInactive: 'transparent',\n    tabHover: '#e8e8e8',\n    buttonBg: '#4CAF50',\n    buttonHover: '#45a049',\n    iconColor: '#666666',\n    iconHover: '#000000',\n    inputBg: '#ffffff',\n    inputBorder: '#cccccc',\n    terminalBg: '#ffffff',\n    terminalForeground: '#000000',\n    terminalCursor: '#000000',\n    terminalSelection: '#add6ff',\n    terminalBlack: '#000000',\n    terminalRed: '#cd3131',\n    terminalGreen: '#008000',\n    terminalYellow: '#795e26',\n    terminalBlue: '#0000ff',\n    terminalMagenta: '#af00db',\n    terminalCyan: '#098658',\n    terminalWhite: '#e5e5e5',\n    terminalBrightBlack: '#666666',\n    terminalBrightRed: '#cd3131',\n    terminalBrightGreen: '#008000',\n    terminalBrightYellow: '#795e26',\n    terminalBrightBlue: '#0000ff',\n    terminalBrightMagenta: '#af00db',\n    terminalBrightCyan: '#098658',\n    terminalBrightWhite: '#ffffff'\n  }\n};\n\nconst AppContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  background-color: ${props => props.theme.background};\n  color: ${props => props.theme.foreground};\n  overflow: hidden;\n`;\n\nconst Header = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 5px 10px;\n  background-color: ${props => props.theme.headerBg};\n  border-bottom: 1px solid ${props => props.theme.border};\n`;\n\nconst LeftControls = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst RightControls = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst EditorWrapper = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  min-height: 0;\n  position: relative;\n`;\n\nconst EditorContainer = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  min-height: 0;\n  position: relative;\n  overflow: hidden;\n`;\n\nconst TerminalContainer = styled.div`\n  height: 40vh;\n  background-color: ${props => props.theme.terminalBg};\n  padding: 10px;\n  flex-shrink: 0;\n  overflow: hidden;\n  border-top: 1px solid ${props => props.theme.border};\n  position: relative;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Button = styled.button`\n  background-color: ${props => props.theme.buttonBg};\n  color: white;\n  padding: 5px 15px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  margin: 0 5px;\n  font-size: 14px;\n  flex-shrink: 0;\n  display: flex;\n  align-items: center;\n\n  &:hover {\n    background-color: ${props => props.theme.buttonHover};\n  }\n`;\n\nconst ToolbarIcon = styled.div`\n  padding: 5px;\n  cursor: pointer;\n  color: ${props => props.theme.iconColor};\n  margin: 0 5px;\n\n  &:hover {\n    color: ${props => props.theme.iconHover};\n  }\n`;\n\nconst Sidebar = styled.div`\n  width: 250px;\n  background-color: ${props => props.theme.headerBg};\n  border-right: 1px solid ${props => props.theme.border};\n  display: flex;\n  flex-direction: column;\n`;\n\nconst FileTree = styled.div`\n  flex: 1;\n  overflow-y: auto;\n  padding: 10px;\n`;\n\nconst FileLocation = styled.div`\n  display: flex;\n  align-items: center;\n  padding: 5px 10px;\n  background-color: ${props => props.theme.headerBg};\n  border-bottom: 1px solid ${props => props.theme.border};\n  color: ${props => props.theme.foreground};\n  font-size: 12px;\n`;\n\nconst LocationItem = styled.div`\n  display: flex;\n  align-items: center;\n  color: ${props => props.theme.iconColor};\n  \n  &:hover {\n    color: ${props => props.theme.iconHover};\n  }\n`;\n\nconst LocationSeparator = styled.div`\n  margin: 0 5px;\n  color: ${props => props.theme.iconColor};\n`;\n\nconst FileTreeItem = styled.div`\n  display: flex;\n  align-items: center;\n  padding: 5px;\n  cursor: pointer;\n  color: ${props => props.theme.foreground};\n  padding-left: ${props => props.depth * 20}px;\n  \n  &:hover {\n    background-color: ${props => props.theme.tabHover};\n  }\n`;\n\nconst FileTreeContent = styled.div`\n  display: flex;\n  align-items: center;\n  flex: 1;\n`;\n\nconst FileTreeIcon = styled.div`\n  margin-right: 5px;\n  display: flex;\n  align-items: center;\n  width: 16px;\n`;\n\nconst FileTreeName = styled.span`\n  flex: 1;\n`;\n\nconst FileTreeActions = styled.div`\n  display: flex;\n  align-items: center;\n  opacity: 0;\n  transition: opacity 0.2s;\n  \n  ${FileTreeItem}:hover & {\n    opacity: 1;\n  }\n`;\n\nconst FileTreeAction = styled.div`\n  padding: 2px;\n  margin-left: 4px;\n  cursor: pointer;\n  color: ${props => props.theme.iconColor};\n  \n  &:hover {\n    color: ${props => props.theme.iconHover};\n  }\n`;\n\nconst SettingsOverlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: ${props => props.isOpen ? 'block' : 'none'};\n  z-index: 999;\n`;\n\nconst SettingsPanel = styled.div`\n  position: fixed;\n  top: 0;\n  right: 0;\n  width: 300px;\n  height: 100%;\n  background-color: ${props => props.theme.headerBg};\n  border-left: 1px solid ${props => props.theme.border};\n  padding: 20px;\n  transform: translateX(${props => props.isOpen ? '0' : '100%'});\n  transition: transform 0.3s ease;\n  z-index: 1000;\n  box-shadow: -2px 0 5px rgba(0, 0, 0, 0.2);\n`;\n\nconst SettingsHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n  padding-bottom: 10px;\n  border-bottom: 1px solid ${props => props.theme.border};\n`;\n\nconst SettingsTitle = styled.h2`\n  margin: 0;\n  color: ${props => props.theme.foreground};\n`;\n\nconst CloseButton = styled.button`\n  background: none;\n  border: none;\n  color: ${props => props.theme.iconColor};\n  cursor: pointer;\n  padding: 5px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  \n  &:hover {\n    color: ${props => props.theme.iconHover};\n  }\n`;\n\nconst SettingsItem = styled.div`\n  margin-bottom: 15px;\n`;\n\nconst SettingsLabel = styled.label`\n  display: block;\n  margin-bottom: 5px;\n  color: ${props => props.theme.foreground};\n`;\n\nconst SettingsInput = styled.input`\n  width: 100%;\n  padding: 5px;\n  background-color: ${props => props.theme.inputBg};\n  border: 1px solid ${props => props.theme.inputBorder};\n  color: ${props => props.theme.foreground};\n  border-radius: 4px;\n`;\n\nconst MainContent = styled.div`\n  display: flex;\n  flex: 1;\n  overflow: hidden;\n`;\n\nconst defaultCode = `# Simple Calculator Program\n# This program adds two numbers entered by the user\n\ndef sum(a, b):\n    return (a + b)\n\n# Get input from user\na = int(input('Enter 1st number: '))\nb = int(input('Enter 2nd number: '))\n\n# Calculate and display the result\nprint(f'Sum of {a} and {b} is {sum(a, b)}')\n`;\n\nfunction App() {\n  const [code, setCode] = useState(defaultCode);\n  const [editorMounted, setEditorMounted] = useState(false);\n  const [commandLineArgs] = useState('');\n  const [theme, setTheme] = useState('dark');\n  const [isSettingsOpen, setIsSettingsOpen] = useState(false);\n  const [currentFile, setCurrentFile] = useState({\n    id: 'main',\n    name: 'main.py',\n    type: 'file',\n    content: defaultCode\n  });\n  const [undoStack, setUndoStack] = useState([]);\n  const [redoStack, setRedoStack] = useState([]);\n  const terminalRef = useRef(null);\n  const wsRef = useRef(null);\n  const terminalInstanceRef = useRef(null);\n  const editorRef = useRef(null);\n  const monacoRef = useRef(null);\n  const resizeObserverRef = useRef(null);\n  const inputBufferRef = useRef('');\n  const isProgramRunning = useRef(false);\n  const editorContainerRef = useRef(null);\n  const fitAddonRef = useRef(null);\n  const [fileTree, setFileTree] = useState([\n    {\n      id: 'root',\n      name: 'Project',\n      type: 'folder',\n      isOpen: true,\n      children: [\n        {\n          id: 'main',\n          name: 'main.py',\n          type: 'file',\n          content: defaultCode\n        }\n      ]\n    }\n  ]);\n  const [currentPath, setCurrentPath] = useState(['Project', 'main.py']);\n  const [editingItem, setEditingItem] = useState(null);\n  const [editName, setEditName] = useState('');\n  const [error, setError] = useState(null);\n  const [programState, setProgramState] = useState('idle');\n\n  const handleEditorDidMount = (editor, monaco) => {\n    editorRef.current = editor;\n    monacoRef.current = monaco;\n    setEditorMounted(true);\n    \n    // Set initial layout\n    const container = editor.getContainerDomNode();\n    if (container) {\n        const { width, height } = container.getBoundingClientRect();\n        editor.layout({ width, height });\n    }\n    \n    // Add resize observer\n    const resizeObserver = new ResizeObserver(entries => {\n        if (editorRef.current) {\n            try {\n                for (const entry of entries) {\n                    const { width, height } = entry.contentRect;\n                    editorRef.current.layout({ width, height });\n                }\n            } catch (error) {\n                console.error('Error in resize observer:', error);\n            }\n        }\n    });\n    \n    resizeObserver.observe(container);\n    resizeObserverRef.current = resizeObserver;\n\n    // Add undo/redo handlers\n    editor.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyCode.KeyZ, () => {\n        handleUndo();\n    });\n    \n    editor.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyMod.Shift | monaco.KeyCode.KeyZ, () => {\n        handleRedo();\n    });\n  };\n\n  // Cleanup function for editor\n  const cleanupEditor = useCallback(() => {\n    if (resizeObserverRef.current) {\n        resizeObserverRef.current.disconnect();\n        resizeObserverRef.current = null;\n    }\n    \n    if (editorRef.current) {\n        try {\n            editorRef.current.dispose();\n        } catch (error) {\n            console.error('Error disposing editor:', error);\n        }\n        editorRef.current = null;\n    }\n    \n    if (monacoRef.current) {\n        monacoRef.current = null;\n    }\n  }, []);\n\n  const handleUndo = () => {\n    if (undoStack.length > 0) {\n      const previousState = undoStack[undoStack.length - 1];\n      setRedoStack([...redoStack, code]);\n      setCode(previousState);\n      setUndoStack(undoStack.slice(0, -1));\n    }\n  };\n\n  const handleRedo = () => {\n    if (redoStack.length > 0) {\n      const nextState = redoStack[redoStack.length - 1];\n      setUndoStack([...undoStack, code]);\n      setCode(nextState);\n      setRedoStack(redoStack.slice(0, -1));\n    }\n  };\n\n  const getItemPath = (itemId) => {\n    const findPath = (items, targetId, currentPath = []) => {\n      for (const item of items) {\n        if (item.id === targetId) {\n          return [...currentPath, item.name];\n        }\n        if (item.children) {\n          const path = findPath(item.children, targetId, [...currentPath, item.name]);\n          if (path) return path;\n        }\n      }\n      return null;\n    };\n    return findPath(fileTree, itemId);\n  };\n\n  const handleFileClick = (file) => {\n    if (file.type === 'folder') {\n      setFileTree(prevTree => {\n        const updateFolder = (items) => {\n          return items.map(item => {\n            if (item.id === file.id) {\n              return { ...item, isOpen: !item.isOpen };\n            }\n            if (item.children) {\n              return { ...item, children: updateFolder(item.children) };\n            }\n            return item;\n          });\n        };\n        return updateFolder(prevTree);\n      });\n    } else {\n      setCurrentFile(file);\n      setCode(file.content);\n      setCurrentPath(getItemPath(file.id));\n    }\n  };\n\n  const handleNewFile = (parentId) => {\n    const newFile = {\n      id: Date.now().toString(),\n      name: 'untitled.py',\n      type: 'file',\n      content: defaultCode\n    };\n\n    setFileTree(prevTree => {\n      const addFile = (items) => {\n        return items.map(item => {\n          if (item.id === parentId) {\n            return {\n              ...item,\n              children: [...(item.children || []), newFile]\n            };\n          }\n          if (item.children) {\n            return { ...item, children: addFile(item.children) };\n          }\n          return item;\n        });\n      };\n      return addFile(prevTree);\n    });\n  };\n\n  const handleNewFolder = (parentId) => {\n    const newFolder = {\n      id: Date.now().toString(),\n      name: 'New Folder',\n      type: 'folder',\n      isOpen: true,\n      children: []\n    };\n\n    setFileTree(prevTree => {\n      const addFolder = (items) => {\n        return items.map(item => {\n          if (item.id === parentId) {\n            return {\n              ...item,\n              children: [...(item.children || []), newFolder]\n            };\n          }\n          if (item.children) {\n            return { ...item, children: addFolder(item.children) };\n          }\n          return item;\n        });\n      };\n      return addFolder(prevTree);\n    });\n  };\n\n  const downloadFile = (content, filename) => {\n    const blob = new Blob([content], { type: 'text/plain' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = filename;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n\n  const handleSave = useCallback(() => {\n    if (currentFile) {\n      // Update file content in the tree\n      setFileTree(prevTree => {\n        const updateFile = (items) => {\n          return items.map(item => {\n            if (item.id === currentFile.id) {\n              return { ...item, content: code };\n            }\n            if (item.children) {\n              return { ...item, children: updateFile(item.children) };\n            }\n            return item;\n          });\n        };\n        return updateFile(prevTree);\n      });\n\n      // Update currentFile with new content\n      setCurrentFile(prev => ({\n        ...prev,\n        content: code\n      }));\n\n      // Download the file\n      downloadFile(code, currentFile.name);\n\n      // Show save confirmation in terminal\n      if (terminalInstanceRef.current) {\n        terminalInstanceRef.current.write('\\r\\n\\x1b[32mFile saved and downloaded successfully!\\x1b[0m\\r\\n');\n      }\n    } else {\n      // Create new file if no current file\n      const newFile = {\n        id: Date.now().toString(),\n        name: 'untitled.py',\n        type: 'file',\n        content: code\n      };\n\n      setFileTree(prevTree => {\n        const addFile = (items) => {\n          return items.map(item => {\n            if (item.id === 'root') {\n              return {\n                ...item,\n                children: [...(item.children || []), newFile]\n              };\n            }\n            if (item.children) {\n              return { ...item, children: addFile(item.children) };\n            }\n            return item;\n          });\n        };\n        return addFile(prevTree);\n      });\n\n      setCurrentFile(newFile);\n      setCurrentPath(['Project', newFile.name]);\n\n      // Download the new file\n      downloadFile(code, newFile.name);\n\n      // Show save confirmation in terminal\n      if (terminalInstanceRef.current) {\n        terminalInstanceRef.current.write('\\r\\n\\x1b[32mNew file created, saved, and downloaded!\\x1b[0m\\r\\n');\n      }\n    }\n  }, [code, currentFile]);\n\n  // Add keyboard shortcut for save (Ctrl+S)\n  useEffect(() => {\n    const handleKeyDown = (e) => {\n      if ((e.ctrlKey || e.metaKey) && e.key === 's') {\n        e.preventDefault();\n        handleSave();\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [handleSave]);\n\n  const handleThemeToggle = () => {\n    setTheme(theme === 'dark' ? 'light' : 'dark');\n  };\n\n  const handleSettingsToggle = () => {\n    setIsSettingsOpen(!isSettingsOpen);\n  };\n\n  const handleCloseSettings = () => {\n    setIsSettingsOpen(false);\n  };\n\n  const handleOverlayClick = (e) => {\n    if (e.target === e.currentTarget) {\n      handleCloseSettings();\n    }\n  };\n\n  const handleRename = (itemId, newName) => {\n    // Prevent renaming main.py\n    if (itemId === 'main') {\n      if (terminalInstanceRef.current) {\n        terminalInstanceRef.current.write('\\r\\n\\x1b[31mCannot rename main.py - it is a required file\\x1b[0m\\r\\n');\n      }\n      return;\n    }\n\n    setFileTree(prevTree => {\n      const renameItem = (items) => {\n        return items.map(item => {\n          if (item.id === itemId) {\n            return { ...item, name: newName };\n          }\n          if (item.children) {\n            return { ...item, children: renameItem(item.children) };\n          }\n          return item;\n        });\n      };\n      return renameItem(prevTree);\n    });\n    setEditingItem(null);\n    if (currentFile && currentFile.id === itemId) {\n      setCurrentPath(getItemPath(itemId));\n    }\n  };\n\n  const handleDelete = (itemId) => {\n    // Prevent deletion of main.py\n    if (itemId === 'main') {\n      if (terminalInstanceRef.current) {\n        terminalInstanceRef.current.write('\\r\\n\\x1b[31mCannot delete main.py - it is a required file\\x1b[0m\\r\\n');\n      }\n      return;\n    }\n\n    setFileTree(prevTree => {\n      const deleteItem = (items) => {\n        return items.filter(item => {\n          if (item.id === itemId) {\n            return false;\n          }\n          if (item.children) {\n            item.children = deleteItem(item.children);\n          }\n          return true;\n        });\n      };\n      return deleteItem(prevTree);\n    });\n    if (currentFile && currentFile.id === itemId) {\n      setCurrentFile(null);\n      setCode(defaultCode);\n      setCurrentPath(['Project']);\n    }\n  };\n\n  const startEditing = (item, e) => {\n    e.stopPropagation();\n    setEditingItem(item.id);\n    setEditName(item.name);\n  };\n\n  const handleEditSubmit = (e) => {\n    e.preventDefault();\n    if (editName.trim()) {\n      handleRename(editingItem, editName.trim());\n    }\n  };\n\n  const handleRun = async () => {\n    if (!wsRef.current || wsRef.current.readyState !== WebSocket.OPEN) {\n      setError(\"Not connected to server\");\n      setProgramState('error');\n      if (terminalInstanceRef.current) {\n        terminalInstanceRef.current.write('\\r\\n\\x1b[31mError: Not connected to server\\x1b[0m\\r\\n');\n      }\n      return;\n    }\n\n    try {\n      setError(null);\n      setProgramState('running');\n      \n      // Clear terminal before running\n      if (terminalInstanceRef.current) {\n        terminalInstanceRef.current.clear();\n        terminalInstanceRef.current.write('\\r\\n');\n      }\n\n      const message = {\n        type: \"execute\",\n        code: code,\n        args: commandLineArgs\n      };\n      \n      wsRef.current.send(JSON.stringify(message));\n    } catch (err) {\n      setError(`Error running code: ${err.message}`);\n      setProgramState('error');\n      if (terminalInstanceRef.current) {\n        terminalInstanceRef.current.write(`\\r\\n\\x1b[31mError: ${err.message}\\x1b[0m\\r\\n`);\n      }\n    }\n  };\n\n  // Add error display in the UI\n  useEffect(() => {\n    if (error) {\n      console.error('Error:', error);\n    }\n  }, [error]);\n\n  // Add program state display in the UI\n  useEffect(() => {\n    if (programState === 'running') {\n      console.log('Program is running...');\n    } else if (programState === 'error') {\n      console.error('Program encountered an error');\n    }\n  }, [programState]);\n\n  useLayoutEffect(() => {\n    if (!terminalRef.current) return;\n\n    try {\n      // Initialize terminal\n      const terminal = new Terminal({\n        cursorBlink: true,\n        fontSize: 14,\n        fontFamily: 'Consolas, \"Courier New\", monospace',\n        theme: {\n          background: theme === 'dark' ? '#1e1e1e' : '#ffffff',\n          foreground: theme === 'dark' ? '#ffffff' : '#000000',\n          cursor: theme === 'dark' ? '#ffffff' : '#000000',\n          selection: theme === 'dark' ? '#264f78' : '#add6ff',\n          black: theme === 'dark' ? '#000000' : '#000000',\n          red: theme === 'dark' ? '#cd3131' : '#cd3131',\n          green: theme === 'dark' ? '#0dbc79' : '#008000',\n          yellow: theme === 'dark' ? '#e5e510' : '#795e26',\n          blue: theme === 'dark' ? '#2472c8' : '#0000ff',\n          magenta: theme === 'dark' ? '#bc3fbc' : '#af00db',\n          cyan: theme === 'dark' ? '#11a8cd' : '#098658',\n          white: theme === 'dark' ? '#e5e5e5' : '#e5e5e5',\n          brightBlack: theme === 'dark' ? '#666666' : '#666666',\n          brightRed: theme === 'dark' ? '#f14c4c' : '#cd3131',\n          brightGreen: theme === 'dark' ? '#23d18b' : '#008000',\n          brightYellow: theme === 'dark' ? '#f5f543' : '#795e26',\n          brightBlue: theme === 'dark' ? '#3b8eea' : '#0000ff',\n          brightMagenta: theme === 'dark' ? '#d670d6' : '#af00db',\n          brightCyan: theme === 'dark' ? '#29b8db' : '#098658',\n          brightWhite: theme === 'dark' ? '#ffffff' : '#ffffff'\n        },\n        scrollback: 10000,\n        convertEol: true,\n        disableStdin: false,\n        allowTransparency: true,\n        rendererType: 'canvas',\n        windowsMode: true,\n        fastScrollModifier: 'alt',\n        fastScrollSensitivity: 5,\n        scrollSensitivity: 1,\n        cursorStyle: 'block',\n        rightClickSelectsWord: true\n      });\n\n      // Initialize and configure fit addon\n      const fitAddon = new FitAddon();\n      terminal.loadAddon(fitAddon);\n      terminal.open(terminalRef.current);\n      \n      // Store refs\n      fitAddonRef.current = fitAddon;\n      terminalInstanceRef.current = terminal;\n\n      // Initial fit\n      requestAnimationFrame(() => {\n        fitAddon.fit();\n        terminal.focus();\n      });\n\n      // Add terminal input handler\n      terminal.onData(handleTerminalInput);\n\n      let reconnectAttempts = 0;\n      const maxReconnectAttempts = 5;\n      const reconnectDelay = 2000; // 2 seconds\n      let reconnectTimeout = null;\n\n      // Initialize WebSocket\n      const connectWebSocket = () => {\n        if (wsRef.current && wsRef.current.readyState === WebSocket.OPEN) {\n          return;\n        }\n\n        // Clear any existing reconnect timeout\n        if (reconnectTimeout) {\n          clearTimeout(reconnectTimeout);\n          reconnectTimeout = null;\n        }\n\n        // Add connection ID to maintain session\n        const connectionId = localStorage.getItem('connectionId') || Date.now().toString();\n        localStorage.setItem('connectionId', connectionId);\n\n        // Close existing connection if any\n        if (wsRef.current) {\n          wsRef.current.close();\n        }\n\n        try {\n          wsRef.current = new WebSocket(`ws://${window.location.host}/ws/terminal?connectionId=${connectionId}`);\n          \n          wsRef.current.onopen = () => {\n            console.log('WebSocket connected');\n            isProgramRunning.current = false;\n            inputBufferRef.current = '';\n            reconnectAttempts = 0; // Reset reconnect attempts on successful connection\n          };\n        \n          wsRef.current.onmessage = (event) => {\n            try {\n              const data = event.data;\n              \n              if (!terminalInstanceRef.current) {\n                console.error('Terminal instance not found');\n                return;\n              }\n\n              // Only show actual program output, not connection messages\n              if (!data.includes('Connected to server') && \n                  !data.includes('Connection error') && \n                  !data.includes('Connection closed') && \n                  !data.includes('Attempting to reconnect')) {\n                terminalInstanceRef.current.write(data);\n                terminalInstanceRef.current.scrollToBottom();\n              }\n              \n              if (data.includes('** Process exited')) {\n                isProgramRunning.current = false;\n                inputBufferRef.current = '';\n              } else if (data.includes('Enter')) {\n                isProgramRunning.current = true;\n                if (terminalRef.current) {\n                  terminalRef.current.focus();\n                }\n                if (terminalInstanceRef.current) {\n                  terminalInstanceRef.current.focus();\n                }\n              }\n            } catch (error) {\n              console.error('Error in WebSocket message handler:', error);\n            }\n          };\n\n          wsRef.current.onerror = (error) => {\n            console.error('WebSocket error:', error);\n            isProgramRunning.current = false;\n            inputBufferRef.current = '';\n          };\n\n          wsRef.current.onclose = (event) => {\n            console.log('WebSocket connection closed:', event.code, event.reason);\n            isProgramRunning.current = false;\n            inputBufferRef.current = '';\n            \n            // Only attempt to reconnect if we haven't exceeded max attempts\n            if (reconnectAttempts < maxReconnectAttempts) {\n              reconnectAttempts++;\n              reconnectTimeout = setTimeout(connectWebSocket, reconnectDelay);\n            }\n          };\n        } catch (error) {\n          console.error('Error creating WebSocket:', error);\n        }\n      };\n\n      // Initial connection\n      connectWebSocket();\n\n      // Add connection status check\n      const connectionCheckInterval = setInterval(() => {\n        if (!wsRef.current || wsRef.current.readyState !== WebSocket.OPEN) {\n          if (reconnectAttempts < maxReconnectAttempts) {\n            connectWebSocket();\n          }\n        }\n      }, 5000);\n\n      return () => {\n        clearInterval(connectionCheckInterval);\n        if (reconnectTimeout) {\n          clearTimeout(reconnectTimeout);\n        }\n        if (wsRef.current) {\n          wsRef.current.close(1000, 'Component unmount');\n        }\n        if (terminal) {\n          terminal.dispose();\n        }\n      };\n    } catch (error) {\n      console.error('Error initializing terminal:', error);\n    }\n  }, [theme]);\n\n  // Handle window resize\n  useEffect(() => {\n    const handleResize = () => {\n      if (editorRef.current && editorContainerRef.current) {\n        try {\n          const { width, height } = editorContainerRef.current.getBoundingClientRect();\n          editorRef.current.layout({ width, height });\n        } catch (error) {\n          console.error('Error in resize handler:', error);\n        }\n      }\n      if (fitAddonRef.current) {\n        setTimeout(() => {\n          try {\n            fitAddonRef.current.fit();\n          } catch (error) {\n            console.error('Error fitting terminal:', error);\n          }\n        }, 100);\n      }\n    };\n\n    window.addEventListener('resize', handleResize);\n    handleResize(); // Initial layout\n\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, [editorMounted]);\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      cleanupEditor();\n    };\n  }, [cleanupEditor]);\n\n  const renderFileTree = (items, depth = 0) => {\n    return items.map(item => (\n      <React.Fragment key={item.id}>\n        <FileTreeItem \n          depth={depth} \n          onClick={() => handleFileClick(item)}\n          style={{\n            backgroundColor: currentFile && item.id === currentFile.id ? \n              (theme === 'dark' ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)') : \n              'transparent'\n          }}\n        >\n          <FileTreeContent>\n            <FileTreeIcon>\n              {item.type === 'folder' ? (\n                item.isOpen ? <FaChevronDown /> : <FaChevronRight />\n              ) : null}\n            </FileTreeIcon>\n            <FileTreeIcon>\n              {item.type === 'folder' ? (\n                item.isOpen ? <FaFolderOpen /> : <FaFolder />\n              ) : (\n                <FaFile />\n              )}\n            </FileTreeIcon>\n            {editingItem === item.id ? (\n              <form onSubmit={handleEditSubmit} onClick={e => e.stopPropagation()}>\n                <input\n                  type=\"text\"\n                  value={editName}\n                  onChange={e => setEditName(e.target.value)}\n                  onBlur={handleEditSubmit}\n                  autoFocus\n                  style={{\n                    background: 'transparent',\n                    border: 'none',\n                    color: 'inherit',\n                    outline: 'none',\n                    width: '100%'\n                  }}\n                />\n              </form>\n            ) : (\n              <FileTreeName style={{\n                color: currentFile && item.id === currentFile.id ? \n                  (theme === 'dark' ? '#ffffff' : '#000000') : \n                  'inherit'\n              }}>\n                {item.name}\n              </FileTreeName>\n            )}\n          </FileTreeContent>\n          <FileTreeActions>\n            {item.type === 'folder' ? (\n              <>\n                <FileTreeAction onClick={(e) => { e.stopPropagation(); handleNewFile(item.id); }}>\n                  <FaPlus />\n                </FileTreeAction>\n                <FileTreeAction onClick={(e) => { e.stopPropagation(); handleNewFolder(item.id); }}>\n                  <FaFolder />\n                </FileTreeAction>\n              </>\n            ) : null}\n            {item.id !== 'main' && (\n              <>\n                <FileTreeAction onClick={(e) => startEditing(item, e)}>\n                  <FaEdit />\n                </FileTreeAction>\n                <FileTreeAction onClick={(e) => { e.stopPropagation(); handleDelete(item.id); }}>\n                  <FaTrash />\n                </FileTreeAction>\n              </>\n            )}\n          </FileTreeActions>\n        </FileTreeItem>\n        {item.type === 'folder' && item.isOpen && item.children && (\n          renderFileTree(item.children, depth + 1)\n        )}\n      </React.Fragment>\n    ));\n  };\n\n  const handleTerminalInput = (data) => {\n    if (wsRef.current && wsRef.current.readyState === WebSocket.OPEN) {\n      const message = {\n        type: \"input\",\n        input: data\n      };\n      wsRef.current.send(JSON.stringify(message));\n    }\n  };\n\n  return (\n    <ThemeProvider theme={themes[theme]}>\n    <AppContainer>\n      <Header>\n        <LeftControls>\n            <ToolbarIcon onClick={handleSave} title=\"Save (Ctrl+S)\">\n              <FaSave />\n            </ToolbarIcon>\n            <ToolbarIcon onClick={handleUndo}>\n              <FaUndo />\n            </ToolbarIcon>\n            <ToolbarIcon onClick={handleRedo}>\n              <FaRedo />\n            </ToolbarIcon>\n            <Button onClick={handleRun}>\n              <FaPlay style={{ marginRight: '5px' }} />\n              Run\n            </Button>\n        </LeftControls>\n        <RightControls>\n            <ToolbarIcon onClick={handleThemeToggle}>\n              {theme === 'dark' ? <FaSun /> : <FaMoon />}\n            </ToolbarIcon>\n            <ToolbarIcon onClick={handleSettingsToggle}>\n              <FaCog />\n            </ToolbarIcon>\n        </RightControls>\n      </Header>\n        \n        <MainContent>\n          <Sidebar>\n            <FileTree>\n              {renderFileTree(fileTree)}\n            </FileTree>\n          </Sidebar>\n          \n          <EditorWrapper>\n            <FileLocation>\n              {currentPath.map((item, index) => (\n                <React.Fragment key={index}>\n                  <LocationItem>{item}</LocationItem>\n                  {index < currentPath.length - 1 && (\n                    <LocationSeparator>\n                      <FaChevronRightSmall size={10} />\n                    </LocationSeparator>\n                  )}\n                </React.Fragment>\n              ))}\n            </FileLocation>\n      <EditorContainer ref={editorContainerRef}>\n        <Editor\n          height=\"100%\"\n          defaultLanguage=\"python\"\n          value={code}\n          onChange={newValue => {\n            if (newValue !== undefined) {\n              setUndoStack([...undoStack, code]);\n              setCode(newValue);\n            }\n          }}\n          theme={theme === 'dark' ? 'vs-dark' : 'light'}\n          onMount={handleEditorDidMount}\n          beforeMount={cleanupEditor}\n          options={{\n            minimap: { enabled: false },\n            fontSize: 14,\n            wordWrap: 'on',\n            automaticLayout: true,\n            scrollBeyondLastLine: false,\n            renderWhitespace: 'none',\n            lineNumbers: 'on',\n            roundedSelection: false,\n            scrollbar: {\n              vertical: 'visible',\n              horizontal: 'visible',\n              useShadows: false,\n              verticalScrollbarSize: 10,\n              horizontalScrollbarSize: 10\n            }\n          }}\n        />\n      </EditorContainer>\n          </EditorWrapper>\n          \n          <SettingsOverlay isOpen={isSettingsOpen} onClick={handleOverlayClick} />\n          <SettingsPanel isOpen={isSettingsOpen}>\n            <SettingsHeader>\n              <SettingsTitle>Settings</SettingsTitle>\n              <CloseButton onClick={handleCloseSettings} title=\"Close settings\">\n                <FaTimes />\n              </CloseButton>\n            </SettingsHeader>\n            <SettingsItem>\n              <SettingsLabel>Font Size</SettingsLabel>\n              <SettingsInput\n                type=\"number\"\n                min=\"8\"\n                max=\"24\"\n                defaultValue=\"14\"\n                onChange={e => {\n                  if (editorRef.current) {\n                    editorRef.current.updateOptions({ fontSize: parseInt(e.target.value) });\n                  }\n                }}\n              />\n            </SettingsItem>\n            <SettingsItem>\n              <SettingsLabel>Tab Size</SettingsLabel>\n              <SettingsInput\n                type=\"number\"\n                min=\"2\"\n                max=\"8\"\n                defaultValue=\"4\"\n                onChange={e => {\n                  if (editorRef.current) {\n                    editorRef.current.updateOptions({ tabSize: parseInt(e.target.value) });\n                  }\n                }}\n        />\n            </SettingsItem>\n          </SettingsPanel>\n        </MainContent>\n        \n      <TerminalContainer ref={terminalRef} />\n    </AppContainer>\n    </ThemeProvider>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}