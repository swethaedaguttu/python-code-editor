{"ast":null,"code":"!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define([], t) : \"object\" == typeof exports ? exports.FitAddon = t() : e.FitAddon = t();\n}(self, () => (() => {\n  \"use strict\";\n\n  var e = {};\n  return (() => {\n    var t = e;\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.FitAddon = void 0, t.FitAddon = class {\n      activate(e) {\n        this._terminal = e;\n      }\n      dispose() {}\n      fit() {\n        const e = this.proposeDimensions();\n        if (!e || !this._terminal || isNaN(e.cols) || isNaN(e.rows)) return;\n        const t = this._terminal._core;\n        this._terminal.rows === e.rows && this._terminal.cols === e.cols || (t._renderService.clear(), this._terminal.resize(e.cols, e.rows));\n      }\n      proposeDimensions() {\n        if (!this._terminal) return;\n        if (!this._terminal.element || !this._terminal.element.parentElement) return;\n        const e = this._terminal._core,\n          t = e._renderService.dimensions;\n        if (0 === t.css.cell.width || 0 === t.css.cell.height) return;\n        const r = 0 === this._terminal.options.scrollback ? 0 : e.viewport.scrollBarWidth,\n          i = window.getComputedStyle(this._terminal.element.parentElement),\n          o = parseInt(i.getPropertyValue(\"height\")),\n          s = Math.max(0, parseInt(i.getPropertyValue(\"width\"))),\n          n = window.getComputedStyle(this._terminal.element),\n          l = o - (parseInt(n.getPropertyValue(\"padding-top\")) + parseInt(n.getPropertyValue(\"padding-bottom\"))),\n          a = s - (parseInt(n.getPropertyValue(\"padding-right\")) + parseInt(n.getPropertyValue(\"padding-left\"))) - r;\n        return {\n          cols: Math.max(2, Math.floor(a / t.css.cell.width)),\n          rows: Math.max(1, Math.floor(l / t.css.cell.height))\n        };\n      }\n    };\n  })(), e;\n})());","map":{"version":3,"names":["e","t","exports","module","define","amd","FitAddon","self","activate","_terminal","dispose","fit","proposeDimensions","isNaN","cols","rows","_core","_renderService","clear","resize","element","parentElement","dimensions","css","cell","width","height","r","options","scrollback","viewport","scrollBarWidth","i","window","getComputedStyle","o","parseInt","getPropertyValue","s","Math","max","n","l","a","floor"],"sources":["webpack://FitAddon/webpack/universalModuleDefinition","webpack://FitAddon/src/FitAddon.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"FitAddon\"] = factory();\n\telse\n\t\troot[\"FitAddon\"] = factory();\n})(self, () => {\nreturn ","/**\n * Copyright (c) 2017 The xterm.js authors. All rights reserved.\n * @license MIT\n */\n\nimport { Terminal, ITerminalAddon } from 'xterm';\nimport { IRenderDimensions } from 'browser/renderer/shared/Types';\n\ninterface ITerminalDimensions {\n  /**\n   * The number of rows in the terminal.\n   */\n  rows: number;\n\n  /**\n   * The number of columns in the terminal.\n   */\n  cols: number;\n}\n\nconst MINIMUM_COLS = 2;\nconst MINIMUM_ROWS = 1;\n\nexport class FitAddon implements ITerminalAddon {\n  private _terminal: Terminal | undefined;\n\n  public activate(terminal: Terminal): void {\n    this._terminal = terminal;\n  }\n\n  public dispose(): void {}\n\n  public fit(): void {\n    const dims = this.proposeDimensions();\n    if (!dims || !this._terminal || isNaN(dims.cols) || isNaN(dims.rows)) {\n      return;\n    }\n\n    // TODO: Remove reliance on private API\n    const core = (this._terminal as any)._core;\n\n    // Force a full render\n    if (this._terminal.rows !== dims.rows || this._terminal.cols !== dims.cols) {\n      core._renderService.clear();\n      this._terminal.resize(dims.cols, dims.rows);\n    }\n  }\n\n  public proposeDimensions(): ITerminalDimensions | undefined {\n    if (!this._terminal) {\n      return undefined;\n    }\n\n    if (!this._terminal.element || !this._terminal.element.parentElement) {\n      return undefined;\n    }\n\n    // TODO: Remove reliance on private API\n    const core = (this._terminal as any)._core;\n    const dims: IRenderDimensions = core._renderService.dimensions;\n\n    if (dims.css.cell.width === 0 || dims.css.cell.height === 0) {\n      return undefined;\n    }\n\n    const scrollbarWidth = this._terminal.options.scrollback === 0 ?\n      0 : core.viewport.scrollBarWidth;\n\n    const parentElementStyle = window.getComputedStyle(this._terminal.element.parentElement);\n    const parentElementHeight = parseInt(parentElementStyle.getPropertyValue('height'));\n    const parentElementWidth = Math.max(0, parseInt(parentElementStyle.getPropertyValue('width')));\n    const elementStyle = window.getComputedStyle(this._terminal.element);\n    const elementPadding = {\n      top: parseInt(elementStyle.getPropertyValue('padding-top')),\n      bottom: parseInt(elementStyle.getPropertyValue('padding-bottom')),\n      right: parseInt(elementStyle.getPropertyValue('padding-right')),\n      left: parseInt(elementStyle.getPropertyValue('padding-left'))\n    };\n    const elementPaddingVer = elementPadding.top + elementPadding.bottom;\n    const elementPaddingHor = elementPadding.right + elementPadding.left;\n    const availableHeight = parentElementHeight - elementPaddingVer;\n    const availableWidth = parentElementWidth - elementPaddingHor - scrollbarWidth;\n    const geometry = {\n      cols: Math.max(MINIMUM_COLS, Math.floor(availableWidth / dims.css.cell.width)),\n      rows: Math.max(MINIMUM_ROWS, Math.floor(availableHeight / dims.css.cell.height))\n    };\n    return geometry;\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}